import{j as N}from"./index-C4pjdHuE.js";function s(){return typeof window>"u"||typeof document>"u"}async function $(e,t){return new Promise((n,a)=>{if(s())return n();let o=document.head,r=document.createElement("script");if(r.async=!0,r.src=e,r.type=t?.type??"text/javascript",t?.defer&&(r.defer=!0),t?.nonce&&r.setAttribute("nonce",t.nonce),t?.preconnect){let i=document.createElement("link"),l=new URL(e);i.href=l.origin,i.rel="preconnect",o.appendChild(i)}o.appendChild(r),r.onload=()=>n(),r.onerror=i=>a(i)})}function m(e){return typeof e=="object"&&!!e&&!Array.isArray(e)}function y(e,t){let n={...e};for(let a in t)if(Object.prototype.hasOwnProperty.call(t,a)){let o=t[a],r=e[a];m(o)&&m(r)?n[a]=y(r,o):n[a]=o}return n}function L(e){if(s())return;let t=new URL(window.location.href);t.search="";for(let[n,a]of Object.entries(e))t.searchParams.set(n,a);window.history.replaceState({},"",t.toString())}const f="utm_";function R(e){let t=new URL(e),n={},a=[],o={};t.searchParams.forEach((r,i)=>{i.includes(f)?(n[i.replace(f,"").replace("campaign","id")]=r,a.push(i)):o[i]=r});for(let r of a)t.searchParams.delete(r);return{utmParams:n,cleanQueryParams:o,cleanUrl:t.toString()}}function T(e){let t=RegExp(`[?&]${f}`);return!!e.match(t)}function S(e,t){let n=t.endsWith("/")?t:`${t}/`,a=e.startsWith("/")?e.substring(1):e;return`${n}${a}`}const E={resource:{url:"https://www.googletagmanager.com/gtag/js",inject:!0},dataLayerName:"dataLayer",gtagName:"gtag",groupName:"default",initMode:"auto"};let p={...E};function u(){return p}function U(e){p=y(p,e)}function c(...e){let{dataLayerName:t,gtagName:n}=u();s()||(window[t]=window[t]||[],window[n]=function(){window[t].push(arguments)},window[n](...e))}function v(e){let{tagId:t,additionalAccounts:n}=u();if(t&&(c("config",t,e),n))for(let a of n)c("config",a.tagId,e)}function g(e,t){c("consent",e,t)}function k(e="default"){g(e,{ad_user_data:"granted",ad_personalization:"granted",ad_storage:"granted",analytics_storage:"granted"})}function P(e="default"){g(e,{ad_user_data:"denied",ad_personalization:"denied",ad_storage:"denied",analytics_storage:"denied"})}function M(e){v({custom_map:e})}function d(e,t){let{groupName:n,additionalAccounts:a}=u();t.send_to===void 0&&a?.length&&(t.send_to=n),c("event",e,t)}function O(e,t){d(e,t)}function z(e){d("exception",e)}function b(e){c("set","linker",e)}function h(e,t){t?window[e]=t:delete window[e]}function A(e,t){let{tagId:n,additionalAccounts:a}=u();if(!s()&&(h(`ga-disable-${e??n}`,t),!(!a?.length||e)))for(let o of a)h(`ga-disable-${o.tagId}`,t)}function B(e){A(e,!0)}function C(e){A(e,void 0)}function j(...e){c("set",...e)}function x(e){let{pageTracker:t}=u(),n;if(typeof e=="string")n={page_path:e};else if("path"in e){let a=t?.router.options.history.base??"",o=t?.useRouteFullPath?e.fullPath:e.path;n={...e.name?{page_title:e.name.toString()}:{},page_path:t?.useRouterBasePath?S(o,a):o}}else n=e;if(n.page_location===void 0&&(n.page_location=window.location.href),n.send_page_view===void 0&&(n.send_page_view=t?.sendPageView??!0),n.page_path!=="/"&&n.page_path?.endsWith("/")&&(n.page_path=n.page_path.slice(0,-1)),T(n.page_location)){let{utmParams:a,cleanUrl:o,cleanQueryParams:r}=R(n.page_location);n.page_location=o,L(r),j("campaign",a)}c("event","page_view",n)}function I(e){let{appName:t}=u(),n={};typeof e=="string"?n.screen_name=e:"path"in e?n.screen_name=e.name??e.path:n=e,t&&n?.app_name===void 0&&(n.app_name=t),c("event","screen_view",n)}function D(e){d("timing_complete",e)}function w(e={}){return{send_page_view:!1,anonymize_ip:!0,...e}}function H(){let{tagId:e,config:t,groupName:n,linker:a,additionalAccounts:o,hooks:r,consentMode:i}=u();if(e){if(r?.["config:init:before"]?.(),i==="granted"?k():i==="denied"&&P(),a&&b(a),c("js",new Date),c("config",e,w(t)),o)for(let l of o)c("config",l.tagId,w({groups:n,...l.config}));r?.["config:init:after"]?.()}}function W(e){let{pageTracker:t}=u();return t?.exclude?typeof t.exclude=="function"?t.exclude(e):t.exclude?.some(({name:n,path:a}={})=>n&&n===e.name||a&&a===e.path):!1}function _(e){let{pageTracker:t,hooks:n}=u();if(W(e))return;n?.["router:track:before"]?.(e);let a;if(t?.template&&(a=typeof t.template=="function"?t.template(e):t.template),t?.useScreenview){let o=a&&"screen_name"in a?a:e;I(o)}else{let o=a&&"page_path"in a?a:e;x(o)}n?.["router:track:after"]?.(e)}async function F(){let{pageTracker:e}=u();if(!e?.router)return;let{router:t}=e;await t.isReady(),_(t.currentRoute.value),t.afterEach((n,a)=>{n.path!==a.path&&_(n)})}async function G(){let{resource:e,dataLayerName:t,tagId:n,pageTracker:a,hooks:o}=u();if(n&&(H(),a?.router&&F(),e.inject))try{await $(`${e.url}?id=${n}&l=${t}`,{preconnect:e.preconnect,defer:e.defer,nonce:e.nonce}),o?.["script:loaded"]?.()}catch(r){o?.["script:error"]?.(r)}}function Q(){let{initMode:e}=u();e!=="manual"&&G()}function V(e){U(e),Q()}const q={config:v,consent:g,consentDeniedAll:P,consentGrantedAll:k,customMap:M,ecommerce:O,event:d,exception:z,linker:b,optIn:C,optOut:B,pageview:x,screenview:I,set:j,time:D,query:c};function J(e){return V(e),t=>{t.config.globalProperties.$gtag=q}}const K=N(({router:e})=>{J({tagId:"G-6TH1JS1Z9H",pageTracker:{router:e}})});export{K as default};
