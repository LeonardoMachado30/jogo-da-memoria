import{h as le,a as ie,b as ae,Q as V}from"./QBtn-l7PP0WXU.js";import{s as re,g as se,a as ue,b as ce,c as M,u as de,d as fe,Q as ve}from"./ModalDefault.vue_vue_type_script_setup_true_lang-CQmJYR-v.js";import{r as b,k as Y,o as P,l as _,g as H,m as E,n as Z,p as I,h as g,q as N,t as $,c as v,w as C,a as ee,u as D,v as te,x as he,y as R,b as oe,d as me,z as ge,A,B as U,f as S,C as K,D as G,E as F,G as q,H as pe,I as ye,J as be,K as we,L as k}from"./index-XAvQvGti.js";import{_ as xe,a as ze}from"./ModalTutorial.vue_vue_type_script_setup_true_lang-a7Wz-MCA.js";import"./firebase-C3Lyi9zm.js";function Se(){const e=b(!Y.value);return e.value===!1&&P(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver<"u",J=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},j=_({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:p}){let l=null,t,o={width:-1,height:-1};function s(i){i===!0||e.debounce===0||e.debounce==="0"?u():l===null&&(l=setTimeout(u,e.debounce))}function u(){if(l!==null&&(clearTimeout(l),l=null),t){const{offsetWidth:i,offsetHeight:a}=t;(i!==o.width||a!==o.height)&&(o={width:i,height:a},p("resize",o))}}const{proxy:f}=H();if(f.trigger=s,ne===!0){let i;const a=h=>{t=f.$el.parentNode,t?(i=new ResizeObserver(s),i.observe(t),u()):h!==!0&&I(()=>{a(!0)})};return P(()=>{a()}),E(()=>{l!==null&&clearTimeout(l),i!==void 0&&(i.disconnect!==void 0?i.disconnect():t&&i.unobserve(t))}),Z}else{let i=function(){l!==null&&(clearTimeout(l),l=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",s,N.passive),d=void 0)},a=function(){i(),t?.contentDocument&&(d=t.contentDocument.defaultView,d.addEventListener("resize",s,N.passive),u())};const{isHydrated:h}=Se();let d;return P(()=>{I(()=>{t=f.$el,t&&a()})}),E(i),()=>{if(h.value===!0)return g("object",{class:"q--avoid-card-border",style:J.style,tabindex:-1,type:"text/html",data:J.url,"aria-hidden":"true",onLoad:a})}}}}),Le=_({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:p,emit:l}){const{proxy:{$q:t}}=H(),o=ee(D,$);if(o===$)return console.error("QHeader needs to be child of QLayout"),$;const s=b(parseInt(e.heightHint,10)),u=b(!0),f=v(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||t.platform.is.ios&&o.isContainer.value===!0),i=v(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return u.value===!0?s.value:0;const n=s.value-o.scroll.value.position;return n>0?n:0}),a=v(()=>e.modelValue!==!0||f.value===!0&&u.value!==!0),h=v(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),d=v(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=v(()=>{const n=o.rows.value.top,y={};return n[0]==="l"&&o.left.space===!0&&(y[t.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),n[2]==="r"&&o.right.space===!0&&(y[t.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),y});function r(n,y){o.update("header",n,y)}function x(n,y){n.value!==y&&(n.value=y)}function Q({height:n}){x(s,n),r("size",n)}function O(n){h.value===!0&&x(u,!0),l("focusin",n)}C(()=>e.modelValue,n=>{r("space",n),x(u,!0),o.animate()}),C(i,n=>{r("offset",n)}),C(()=>e.reveal,n=>{n===!1&&x(u,e.modelValue)}),C(u,n=>{o.animate(),l("reveal",n)}),C(o.scroll,n=>{e.reveal===!0&&x(u,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const T={};return o.instances.header=T,e.modelValue===!0&&r("size",s.value),r("space",e.modelValue),r("offset",i.value),E(()=>{o.instances.header===T&&(o.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const n=le(p.default,[]);return e.elevated===!0&&n.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(g(j,{debounce:0,onResize:Q})),g("header",{class:d.value,style:w.value,onFocusin:O},n)}}}),Ce=_({name:"QPageContainer",setup(e,{slots:p}){const{proxy:{$q:l}}=H(),t=ee(D,$);if(t===$)return console.error("QPageContainer needs to be child of QLayout"),$;te(he,!0);const o=v(()=>{const s={};return t.header.space===!0&&(s.paddingTop=`${t.header.size}px`),t.right.space===!0&&(s[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(s.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(s[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),s});return()=>g("div",{class:"q-page-container",style:o.value},ie(p.default))}}),{passive:X}=N,$e=["both","horizontal","vertical"],Te=_({name:"QScrollObserver",props:{axis:{type:String,validator:e=>$e.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:re},emits:["scroll"],setup(e,{emit:p}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,o,s;C(()=>e.scrollTarget,()=>{i(),f()});function u(){t?.();const d=Math.max(0,ue(o)),w=ce(o),r={top:d-l.position.top,left:w-l.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const x=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";l.position={top:d,left:w},l.directionChanged=l.direction!==x,l.delta=r,l.directionChanged===!0&&(l.direction=x,l.inflectionPoint=l.position),p("scroll",{...l})}function f(){o=se(s,e.scrollTarget),o.addEventListener("scroll",a,X),a(!0)}function i(){o!==void 0&&(o.removeEventListener("scroll",a,X),o=void 0)}function a(d){if(d===!0||e.debounce===0||e.debounce==="0")u();else if(t===null){const[w,r]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];t=()=>{r(w),t=null}}}const{proxy:h}=H();return C(()=>h.$q.lang.rtl,u),P(()=>{s=h.$el.parentNode,f()}),E(()=>{t?.(),i()}),Object.assign(h,{trigger:a,getPosition:()=>l}),Z}}),qe=_({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:p,emit:l}){const{proxy:{$q:t}}=H(),o=b(null),s=b(t.screen.height),u=b(e.container===!0?0:t.screen.width),f=b({position:0,direction:"down",inflectionPoint:0}),i=b(0),a=b(Y.value===!0?0:M()),h=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=v(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),w=v(()=>a.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),r=v(()=>a.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function x(c){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};f.value=m,e.onScroll!==void 0&&l("scroll",m)}}function Q(c){const{height:m,width:L}=c;let z=!1;s.value!==m&&(z=!0,s.value=m,e.onScrollHeight!==void 0&&l("scrollHeight",m),T()),u.value!==L&&(z=!0,u.value=L),z===!0&&e.onResize!==void 0&&l("resize",c)}function O({height:c}){i.value!==c&&(i.value=c,T())}function T(){if(e.container===!0){const c=s.value>i.value?M():0;a.value!==c&&(a.value=c)}}let n=null;const y={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:o,height:s,containerHeight:i,scrollbarWidth:a,totalWidth:v(()=>u.value+a.value),rows:v(()=>{const c=e.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:f,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,m,L){y[c][m]=L}};if(te(D,y),M()>0){let c=function(){z=null,B.classList.remove("hide-scrollbar")},m=function(){if(z===null){if(B.scrollHeight>t.screen.height)return;B.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(c,300)},L=function(W){z!==null&&W==="remove"&&(clearTimeout(z),c()),window[`${W}EventListener`]("resize",m)},z=null;const B=document.body;C(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),oe(()=>{L("remove")})}return()=>{const c=ae(p.default,[g(Te,{onScroll:x}),g(j,{onResize:Q})]),m=g("div",{class:h.value,style:d.value,ref:e.container===!0?void 0:o,tabindex:-1},c);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:o},[g(j,{onResize:O}),g("div",{class:"absolute-full",style:w.value},[g("div",{class:"scroll",style:r.value},[m])])]):m}}}),Pe={key:0,class:"flex",style:{gap:"10px"}},_e={key:1,class:"flex items-center self-end",style:{gap:"10px"}},He={class:"no-margin"},Oe=me({__name:"MainLayout",setup(e){const p=we(),l=de(),{getUser:t}=ge(l),{playMusic:o,pauseMusic:s}=fe(),u=b(!1),f=b(!1),i=v(()=>p.fullPath==="/");function a(){localStorage.getItem("isPauseMusic")||o()}return P(()=>{document.addEventListener("click",a,{once:!0}),window.addEventListener("focus",o),window.addEventListener("blur",s)}),oe(()=>{window.removeEventListener("focus",o),window.removeEventListener("blur",s)}),(h,d)=>{const w=be("router-view");return k(),A(qe,{view:"lHh Lpr lFf"},{default:U(()=>[S(Le,{class:"bg-transparent text-principal q-py-md"},{default:U(()=>[K("div",{class:ye(["flex items-center mx-auto",[i.value?"justify-end":"justify-between"]]),style:{"max-width":"900px"}},[i.value?F("",!0):(k(),G("div",Pe,[S(V,{icon:"arrow_back",round:"",color:"cyan-6",to:"/"}),S(V,{icon:"settings",round:"",color:"cyan-6",onClick:d[0]||(d[0]=r=>u.value=!u.value)}),S(V,{icon:"school",round:"",color:"cyan-6",onClick:d[1]||(d[1]=r=>f.value=!f.value)})])),q(t)?(k(),G("div",_e,[q(t).photoURL?(k(),A(ve,{key:0,srcset:q(t)?.photoURL,width:"50px",height:"50px",class:"q-btn--rounded"},null,8,["srcset"])):F("",!0),K("p",He,pe(q(t).nome),1),S(V,{icon:"logout",round:"",color:"cyan-6",onClick:q(l).logout},null,8,["onClick"])])):F("",!0)],2)]),_:1}),S(Ce,{class:"background-primary"},{default:U(()=>[S(w)]),_:1}),S(xe,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=r=>u.value=r)},null,8,["modelValue"]),S(ze,{modelValue:f.value,"onUpdate:modelValue":d[3]||(d[3]=r=>f.value=r)},null,8,["modelValue"])]),_:1})}}});export{Oe as default};
