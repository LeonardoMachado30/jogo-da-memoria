import{r as b,k as Y,o as q,l as P,g as H,m as E,n as Z,p as I,h as g,q as F,a as ee,t as $,u as D,c as v,w as C,v as ie,x as le,y as te,z as ae,A as V,b as oe,B as re,d as se,C as ue,D as A,E as B,f as S,G as K,H as G,I as N,Q as R,J as _,K as ce,L as de,M as fe,N as ve,O as k}from"./index-C4pjdHuE.js";import{Q as me}from"./QImg-BtJCTJYg.js";import{s as he,g as ge,a as pe,b as ye,c as U}from"./ModalDefault.vue_vue_type_script_setup_true_lang-CFnHv5C_.js";import{u as be,a as we}from"./user-store-DfvaAbTy.js";import{_ as xe}from"./ModalSettings.vue_vue_type_script_setup_true_lang-cHjIJibH.js";import{_ as ze}from"./ModalTutorial.vue_vue_type_script_setup_true_lang-h37UCKyI.js";import"./firebase-CPFhDrGW.js";function Se(){const e=b(!Y.value);return e.value===!1&&q(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver<"u",J=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},j=P({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:p}){let i=null,t,o={width:-1,height:-1};function s(l){l===!0||e.debounce===0||e.debounce==="0"?u():i===null&&(i=setTimeout(u,e.debounce))}function u(){if(i!==null&&(clearTimeout(i),i=null),t){const{offsetWidth:l,offsetHeight:a}=t;(l!==o.width||a!==o.height)&&(o={width:l,height:a},p("resize",o))}}const{proxy:f}=H();if(f.trigger=s,ne===!0){let l;const a=m=>{t=f.$el.parentNode,t?(l=new ResizeObserver(s),l.observe(t),u()):m!==!0&&I(()=>{a(!0)})};return q(()=>{a()}),E(()=>{i!==null&&clearTimeout(i),l!==void 0&&(l.disconnect!==void 0?l.disconnect():t&&l.unobserve(t))}),Z}else{let l=function(){i!==null&&(clearTimeout(i),i=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",s,F.passive),d=void 0)},a=function(){l(),t?.contentDocument&&(d=t.contentDocument.defaultView,d.addEventListener("resize",s,F.passive),u())};const{isHydrated:m}=Se();let d;return q(()=>{I(()=>{t=f.$el,t&&a()})}),E(l),()=>{if(m.value===!0)return g("object",{class:"q--avoid-card-border",style:J.style,tabindex:-1,type:"text/html",data:J.url,"aria-hidden":"true",onLoad:a})}}}}),Le=P({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:p,emit:i}){const{proxy:{$q:t}}=H(),o=ee(D,$);if(o===$)return console.error("QHeader needs to be child of QLayout"),$;const s=b(parseInt(e.heightHint,10)),u=b(!0),f=v(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||t.platform.is.ios&&o.isContainer.value===!0),l=v(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return u.value===!0?s.value:0;const n=s.value-o.scroll.value.position;return n>0?n:0}),a=v(()=>e.modelValue!==!0||f.value===!0&&u.value!==!0),m=v(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),d=v(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=v(()=>{const n=o.rows.value.top,y={};return n[0]==="l"&&o.left.space===!0&&(y[t.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),n[2]==="r"&&o.right.space===!0&&(y[t.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),y});function r(n,y){o.update("header",n,y)}function x(n,y){n.value!==y&&(n.value=y)}function Q({height:n}){x(s,n),r("size",n)}function O(n){m.value===!0&&x(u,!0),i("focusin",n)}C(()=>e.modelValue,n=>{r("space",n),x(u,!0),o.animate()}),C(l,n=>{r("offset",n)}),C(()=>e.reveal,n=>{n===!1&&x(u,e.modelValue)}),C(u,n=>{o.animate(),i("reveal",n)}),C(o.scroll,n=>{e.reveal===!0&&x(u,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const T={};return o.instances.header=T,e.modelValue===!0&&r("size",s.value),r("space",e.modelValue),r("offset",l.value),E(()=>{o.instances.header===T&&(o.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const n=ie(p.default,[]);return e.elevated===!0&&n.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(g(j,{debounce:0,onResize:Q})),g("header",{class:d.value,style:w.value,onFocusin:O},n)}}}),Ce=P({name:"QPageContainer",setup(e,{slots:p}){const{proxy:{$q:i}}=H(),t=ee(D,$);if(t===$)return console.error("QPageContainer needs to be child of QLayout"),$;te(ae,!0);const o=v(()=>{const s={};return t.header.space===!0&&(s.paddingTop=`${t.header.size}px`),t.right.space===!0&&(s[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(s.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(s[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),s});return()=>g("div",{class:"q-page-container",style:o.value},le(p.default))}}),{passive:X}=F,$e=["both","horizontal","vertical"],Te=P({name:"QScrollObserver",props:{axis:{type:String,validator:e=>$e.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:he},emits:["scroll"],setup(e,{emit:p}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,o,s;C(()=>e.scrollTarget,()=>{l(),f()});function u(){t?.();const d=Math.max(0,pe(o)),w=ye(o),r={top:d-i.position.top,left:w-i.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const x=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";i.position={top:d,left:w},i.directionChanged=i.direction!==x,i.delta=r,i.directionChanged===!0&&(i.direction=x,i.inflectionPoint=i.position),p("scroll",{...i})}function f(){o=ge(s,e.scrollTarget),o.addEventListener("scroll",a,X),a(!0)}function l(){o!==void 0&&(o.removeEventListener("scroll",a,X),o=void 0)}function a(d){if(d===!0||e.debounce===0||e.debounce==="0")u();else if(t===null){const[w,r]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];t=()=>{r(w),t=null}}}const{proxy:m}=H();return C(()=>m.$q.lang.rtl,u),q(()=>{s=m.$el.parentNode,f()}),E(()=>{t?.(),l()}),Object.assign(m,{trigger:a,getPosition:()=>i}),Z}}),_e=P({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:p,emit:i}){const{proxy:{$q:t}}=H(),o=b(null),s=b(t.screen.height),u=b(e.container===!0?0:t.screen.width),f=b({position:0,direction:"down",inflectionPoint:0}),l=b(0),a=b(Y.value===!0?0:U()),m=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),d=v(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),w=v(()=>a.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),r=v(()=>a.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function x(c){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};f.value=h,e.onScroll!==void 0&&i("scroll",h)}}function Q(c){const{height:h,width:L}=c;let z=!1;s.value!==h&&(z=!0,s.value=h,e.onScrollHeight!==void 0&&i("scrollHeight",h),T()),u.value!==L&&(z=!0,u.value=L),z===!0&&e.onResize!==void 0&&i("resize",c)}function O({height:c}){l.value!==c&&(l.value=c,T())}function T(){if(e.container===!0){const c=s.value>l.value?U():0;a.value!==c&&(a.value=c)}}let n=null;const y={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:o,height:s,containerHeight:l,scrollbarWidth:a,totalWidth:v(()=>u.value+a.value),rows:v(()=>{const c=e.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:V({size:0,offset:0,space:!1}),right:V({size:300,offset:0,space:!1}),footer:V({size:0,offset:0,space:!1}),left:V({size:300,offset:0,space:!1}),scroll:f,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,h,L){y[c][h]=L}};if(te(D,y),U()>0){let c=function(){z=null,M.classList.remove("hide-scrollbar")},h=function(){if(z===null){if(M.scrollHeight>t.screen.height)return;M.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(c,300)},L=function(W){z!==null&&W==="remove"&&(clearTimeout(z),c()),window[`${W}EventListener`]("resize",h)},z=null;const M=document.body;C(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),oe(()=>{L("remove")})}return()=>{const c=re(p.default,[g(Te,{onScroll:x}),g(j,{onResize:Q})]),h=g("div",{class:m.value,style:d.value,ref:e.container===!0?void 0:o,tabindex:-1},c);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:o},[g(j,{onResize:O}),g("div",{class:"absolute-full",style:w.value},[g("div",{class:"scroll",style:r.value},[h])])]):h}}}),qe={key:0,class:"flex",style:{gap:"10px"}},Pe={key:1,class:"flex items-center self-end gap-4",style:{gap:"10px"}},He={class:"no-margin"},Be=se({__name:"MainLayout",setup(e){const p=ve(),i=be(),{getUser:t}=ue(i),{playMusic:o,pauseMusic:s}=we(),u=b(!1),f=b(!1),l=v(()=>p.fullPath==="/");function a(){localStorage.getItem("isPauseMusic")||o()}return q(()=>{document.addEventListener("click",a,{once:!0}),window.addEventListener("focus",o),window.addEventListener("blur",s)}),oe(()=>{window.removeEventListener("focus",o),window.removeEventListener("blur",s)}),(m,d)=>{const w=fe("router-view");return k(),A(_e,{view:"lHh Lpr lFf"},{default:B(()=>[S(Le,{class:"bg-transparent text-principal q-py-md"},{default:B(()=>[K("div",{class:de(["flex items-center mx-auto",[l.value?"justify-end":"justify-between"]]),style:{"max-width":"900px"}},[l.value?N("",!0):(k(),G("div",qe,[S(R,{icon:"arrow_back",round:"",color:"cyan-6",to:"/"}),S(R,{icon:"settings",round:"",color:"cyan-6",onClick:d[0]||(d[0]=r=>u.value=!u.value)}),S(R,{icon:"school",round:"",color:"cyan-6",onClick:d[1]||(d[1]=r=>f.value=!f.value)})])),_(t)?(k(),G("div",Pe,[_(t).photoURL?(k(),A(me,{key:0,srcset:_(t)?.photoURL,width:"50px",height:"50px",class:"q-btn--rounded"},null,8,["srcset"])):N("",!0),K("p",He,ce(_(t).nome),1),S(R,{icon:"logout",round:"",color:"cyan-6",onClick:_(i).logout},null,8,["onClick"])])):N("",!0)],2)]),_:1}),S(Ce,{class:"background-primary"},{default:B(()=>[S(w)]),_:1}),S(xe,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=r=>u.value=r)},null,8,["modelValue"]),S(ze,{modelValue:f.value,"onUpdate:modelValue":d[3]||(d[3]=r=>f.value=r)},null,8,["modelValue"])]),_:1})}}});export{Be as default};
